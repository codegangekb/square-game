!function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e){this.x=t,this.y=e}add(t){return new n(this.x+t.x,this.y+t.y)}multiple(t,e){return new n(this.x*t,this.y*(null!=e?e:t))}static zero(){return new n(0,0)}static angle(t,e){return Math.atan2(t.x-e.x,-(t.y-e.y))}static distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}static clone(t){return new n(t.x,t.y)}static turnAround(t){return new n(-t.x,-t.y)}}e.Vector=n},function(t,e){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);t.exports=function(){return i(n),n}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,o=i;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i(4);const n=i(9),o=i(20),s=document.createElement("canvas");s.id="display",document.body.style.backgroundColor="#303030";const r=new o.Config;s.width=r.game.width,s.height=r.game.height,s.classList.add("game-display");const a=s.getContext("2d");if(null==a)throw Error("PNH");document.body.appendChild(s);const c=new n.Game(r);let h=performance.now();!function t(){a.clearRect(0,0,s.width,s.height);const e=performance.now(),i=(e-h)/1e3;h=e,c.update(i),c.render(a),requestAnimationFrame(t)}()},function(t,e,i){var n=i(5);"string"==typeof n&&(n=[[t.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};i(7)(n,o);n.locals&&(t.exports=n.locals)},function(t,e,i){(t.exports=i(6)(!1)).push([t.i,"\n@font-face {\n    font-family: 'Press Start 2P';\n    font-style: normal;\n    font-weight: 400;\n    src: url(https://fonts.gstatic.com/s/pressstart2p/v6/e3t4euO8T-267oIAQAu6jDQyK3nVivNm4I81.woff2) format('woff2');\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n}\n\nbody, html {\n    width: 100%;\n    padding: 0;\n    margin: 0;\n    height: 100%;\n    font-family: 'Press Start 2P', SansSerif, Arial;\n}\n\nbody {\n    user-select: none;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\ncanvas {\n    border: 1px solid black;\n    image-rendering: pixelated;\n    cursor: cell;\n}\n\n.game-display {\n    position: relative;\n}\n\n.game-ui-container {\n    pointer-events: none;\n    position: absolute;\n    width: 800px;\n    height: 600px;\n}\n\n.tower-selector-container {\n    pointer-events: all;\n    position: absolute;\n    box-sizing: border-box;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: 40px 5px 10px;\n    background: url('/public/images/wall.png') repeat;\n    top: 0;\n    right: 0;\n    width: 145px;\n    height: 600px;\n}\n\n.tower-selector-title {\n    color: gold;\n    opacity: 0.75;\n    position: absolute;\n    right: 0;\n    top: 0;\n    background: url(/public/images/chest.png) no-repeat 10px 10px;\n    background-size: 20px 20px;\n    padding: 10px 0 0 30px ;\n    box-sizing: border-box;\n    width: 145px;\n    text-align: left;\n}\n\n.tower-selector {\n    background: url(/public/images/border.png) no-repeat,rgba(255,255,255,0.7);\n    background-size: 60px 60px;\n    display: inline-block;\n    width: 60px;\n    height: 60px;\n    margin-bottom: 15px;\n}\n\n.tower-selector.active {\n    box-shadow: 0 0 15px gold;\n}\n\n.tower-selector:nth-of-type(2n+1) {\n    margin-right: 15px;\n}\n",""])},function(t,e,i){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var i=function(t,e){var i=t[1]||"",n=t[3];if(!n)return i;if(e&&"function"==typeof btoa){var o=(r=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),s=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[i].concat(s).concat([o]).join("\n")}var r;return[i].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+i+"}":i}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var s=this[o][0];null!=s&&(n[s]=!0)}for(o=0;o<t.length;o++){var r=t[o];null!=r[0]&&n[r[0]]||(i&&!r[2]?r[2]=i:i&&(r[2]="("+r[2]+") and ("+i+")"),e.push(r))}},e}},function(t,e,i){var n,o,s={},r=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(t){var e={};return function(t,i){if("function"==typeof t)return t();if(void 0===e[t]){var n=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,i);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}}(),c=null,h=0,l=[],d=i(8);function u(t,e){for(var i=0;i<t.length;i++){var n=t[i],o=s[n.id];if(o){o.refs++;for(var r=0;r<o.parts.length;r++)o.parts[r](n.parts[r]);for(;r<n.parts.length;r++)o.parts.push(y(n.parts[r],e))}else{var a=[];for(r=0;r<n.parts.length;r++)a.push(y(n.parts[r],e));s[n.id]={id:n.id,refs:1,parts:a}}}}function p(t,e){for(var i=[],n={},o=0;o<t.length;o++){var s=t[o],r=e.base?s[0]+e.base:s[0],a={css:s[1],media:s[2],sourceMap:s[3]};n[r]?n[r].parts.push(a):i.push(n[r]={id:r,parts:[a]})}return i}function f(t,e){var i=a(t.insertInto);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=l[l.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),l.push(e);else if("bottom"===t.insertAt)i.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(t.insertAt.before,i);i.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function w(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var n=function(){0;return i.nc}();n&&(t.attrs.nonce=n)}return m(e,t.attrs),f(t,e),e}function m(t,e){Object.keys(e).forEach(function(i){t.setAttribute(i,e[i])})}function y(t,e){var i,n,o,s;if(e.transform&&t.css){if(!(s="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=s}if(e.singleton){var r=h++;i=c||(c=w(e)),n=x.bind(null,i,r,!1),o=x.bind(null,i,r,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),f(t,e),e}(e),n=function(t,e,i){var n=i.css,o=i.sourceMap,s=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||s)&&(n=d(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var r=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}.bind(null,i,e),o=function(){g(i),i.href&&URL.revokeObjectURL(i.href)}):(i=w(e),n=function(t,e){var i=e.css,n=e.media;n&&t.setAttribute("media",n);if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}.bind(null,i),o=function(){g(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=r()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var i=p(t,e);return u(i,e),function(t){for(var n=[],o=0;o<i.length;o++){var r=i[o];(a=s[r.id]).refs--,n.push(a)}t&&u(p(t,e),e);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete s[a.id]}}}};var v,b=(v=[],function(t,e){return v[t]=e,v.filter(Boolean).join("\n")});function x(t,e,i,n){var o=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var s=document.createTextNode(o),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var i=e.protocol+"//"+e.host,n=i+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,s=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(s)?t:(o=0===s.indexOf("//")?s:0===s.indexOf("/")?i+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(10),o=i(11),s=i(13),r=i(0),a=i(14),c=i(16);e.Game=class{constructor(t){this.config=t,this.riotPolice=[],this.pizzas=[],this.player=new n.Player(new n.PlayerData(new r.Vector(1850,1250),0,this),this),this.room={width:t.world.width,height:t.world.height,map:new s.Map(t.world.width,t.world.height)},this.createRiotPolice(),this.room.map.generate(),this.camera=new o.Camera(0,0,this.config.game.width,this.config.game.height,this.room.width,this.room.height),this.camera.follow(this.player.data,this.config.game.width/2,this.config.game.height/2)}renderSquare(t){const e=new Image;e.src="public/square.png",t.drawImage(e,-this.camera.xView,-this.camera.yView,e.width/1.8,e.height/1.8)}render(t){this.renderSquare(t),this.player.render(t,this.camera.xView,this.camera.yView),this.renderRiotPolice(t),this.renderPizzas(t)}searchIntersection(){const t=new Map;if(this.pizzas.length&&(this.pizzas.forEach(e=>{this.riotPolice.forEach(i=>{const n=r.Vector.distance(i.data.position,e.data.position);r.Vector.distance(i.data.position,e.data.position)<800&&!e.isWaitingToEating&&!i.data.target&&(t.has(e)?t.get(e).push({kosmonavt:i,distance:n}):t.set(e,[{kosmonavt:i,distance:n}]))})}),t.size))for(let[e,i]of t){const t=i.reduce((t,e)=>e.distance<t?e.distance:t,i[0].distance),{kosmonavt:n}=i.find(e=>e.distance===t);n.data.target=e,e.isWaitingToEating=!0}}update(t){this.player.update(t),this.updateRiotPolice(t),this.camera.update()}renderRiotPolice(t){this.riotPolice.forEach(e=>{e.render(t,this.camera.xView,this.camera.yView)})}updateRiotPolice(t){this.riotPolice.forEach(e=>{e.update(t)})}renderPizzas(t){this.pizzas.forEach(e=>{e.render(t,this.camera.xView-10,this.camera.yView-10)})}createRiotPolice(){Array.from({length:9}).forEach((t,e)=>{this.riotPolice.push(new a.RiotPolice(new a.RiotPoliceData(new r.Vector(2150,900+80*e+1),1.5*Math.PI,this),this))})}eatPizza(t){const e=this.pizzas.findIndex(e=>e.id===t.id);console.log(e),-1!==e&&this.pizzas.splice(e,1)}createPizzaObject(t){this.pizzas.length>=5||(this.pizzas.push(new c.Pizza(new c.PizzaData(new r.Vector(t.x,t.y)),this)),this.searchIntersection())}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0);class o{constructor(t,e){this.data=t,this.config=e,this.fill="#3aebca"}render(t,e,i){t.translate(-e+this.data.position.x,-i+this.data.position.y),t.rotate(this.data.look);const n=new Image;n.src="public/player.svg",t.drawImage(n,-31,-42,52,75),t.setTransform(1,0,0,1,0,0)}}e.PlayerRenderer=o;e.Player=class extends o{constructor(t,e){super(t,e.config),this.game=e,document.addEventListener("click",t=>{this.createPizza()})}update(t){this.data.update(t)}createPizza(){this.game.createPizzaObject(this.data.position)}};class s{constructor(t=n.Vector.zero(),e=0,i){this.position=t,this.look=e,this.game=i,this.size=20,this.speed=200,this.pressedKeys={},document.addEventListener("keydown",t=>{this.pressedKeys[t.keyCode]=!0}),document.addEventListener("keyup",t=>{this.pressedKeys[t.keyCode]=!1}),document.getElementById("display").addEventListener("mousemove",t=>{this.look=Math.atan2(t.pageX-this.position.x,-(t.pageY-this.position.y));const e=this.game.camera,i=new n.Vector(t.pageX+e.xView,t.pageY+e.yView);this.look=n.Vector.angle(i,this.position)})}get direction(){let t=n.Vector.zero();return Object.keys(s.directions).forEach(e=>{(this.pressedKeys[e]||!1)&&(t=t.add(new n.Vector(...s.directions[e])))}),t}move(t,e=1){this.position=this.position.add(t.multiple(this.speed).multiple(e))}update(t){this.move(this.direction,t)}}s.directions={87:[0,-1],65:[-1,0],83:[0,1],68:[1,0]},e.PlayerData=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(12);var o={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",BOTH:"both"};e.Camera=class{constructor(t,e,i,s,r,a){this.xView=t||0,this.yView=e||0,this.xDeadZone=0,this.yDeadZone=0,this.wView=i,this.hView=s,this.axis=o.BOTH,this.followed=null,this.viewportRect=new n.Rectangle(this.xView,this.yView,this.wView,this.hView),this.worldRect=new n.Rectangle(0,0,r,a)}follow(t,e,i){this.followed=t,this.xDeadZone=e,this.yDeadZone=i}update(){null!=this.followed&&(this.axis!=o.HORIZONTAL&&this.axis!=o.BOTH||(this.followed.position.x-this.xView+this.xDeadZone>this.wView?this.xView=this.followed.position.x-(this.wView-this.xDeadZone):this.followed.position.x-this.xDeadZone<this.xView&&(this.xView=this.followed.position.x-this.xDeadZone)),this.axis!=o.VERTICAL&&this.axis!=o.BOTH||(this.followed.position.y-this.yView+this.yDeadZone>this.hView?this.yView=this.followed.position.y-(this.hView-this.yDeadZone):this.followed.position.y-this.yDeadZone<this.yView&&(this.yView=this.followed.position.y-this.yDeadZone))),this.viewportRect.set(this.xView,this.yView),this.viewportRect.within(this.worldRect)||(this.viewportRect.left<this.worldRect.left&&(this.xView=this.worldRect.left),this.viewportRect.top<this.worldRect.top&&(this.yView=this.worldRect.top),this.viewportRect.right>this.worldRect.right&&(this.xView=this.worldRect.right-this.wView),this.viewportRect.bottom>this.worldRect.bottom&&(this.yView=this.worldRect.bottom-this.hView))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Rectangle=class{constructor(t,e,i,n){this.left=t||0,this.top=e||0,this.width=i||0,this.height=n||0,this.right=this.left+this.width,this.bottom=this.top+this.height}set(t,e,i,n){this.left=t,this.top=e,this.width=i||this.width,this.height=n||this.height,this.right=this.left+this.width,this.bottom=this.top+this.height}within(t){return t.left<=this.left&&t.right>=this.right&&t.top<=this.top&&t.bottom>=this.bottom}overlaps(t){return this.left<t.right&&t.left<this.right&&this.top<t.bottom&&t.top<this.bottom}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Map=class{constructor(t,e){this.width=t,this.height=e,this.image=null}generate(){var t=document.createElement("canvas").getContext("2d");t.canvas.width=this.width,t.canvas.height=this.height;var e=1+~~(this.width/44),i=1+~~(this.height/44),n="black";t.save(),t.fillStyle="black";for(var o=0,s=0;s<e;o+=44,s++){t.beginPath();for(var r=0,a=0;a<i;r+=44,a++)t.rect(o,r,42,42);n="#fff",t.fillStyle=n,t.fill(),t.closePath()}t.restore(),this.image=new Image,this.image.src=t.canvas.toDataURL("image/png"),t=null}draw(t,e,i){var n,o,s,r,a,c;n=e,o=i,s=t.canvas.width,r=t.canvas.height,this.image.width-n<s&&(s=this.image.width-n),this.image.height-o<r&&(r=this.image.height-o),a=s,c=r,t.drawImage(this.image,n,o,s,r,0,0,a,c)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0),o=i(15);class s{constructor(t,e){this.data=t,this.config=e,this.fill="brown"}render(t,e,i){t.translate(-e+this.data.position.x,-i+this.data.position.y),t.rotate(this.data.look);const n=new Image;n.src="public/cosmonaut.svg",t.drawImage(n,-41,-52,62,85),t.setTransform(1,0,0,1,0,0)}}e.RiotPoliceRenderer=s;e.RiotPolice=class extends s{constructor(t,e){super(t,e.config),this.game=e}update(t){this.data.update(t)}};class r{constructor(t=n.Vector.zero(),e=0,i){this.position=t,this.look=e,this.game=i,this.size=25,this.speed=o.getRandomBeetwen(.7,1),this.target=null,this.initialPosition=null,this.initialLook=null,this.pressedKeys={},this.initialPosition=n.Vector.clone(this.position),this.initialLook=e}get direction(){let t=n.Vector.zero();const e=this.target&&this.target.data.position||this.initialPosition;return Math.abs(e.x-this.position.x)<=10||Math.abs(e.y-this.position.y)<=10?(this.target&&this.game.eatPizza(this.target),this.target=null,this.look=this.initialLook):(t=new n.Vector(e.x-this.position.x,e.y-this.position.y),this.look=n.Vector.angle(e,this.position)),t}move(t,e=1){this.position=this.position.add(t.multiple(this.speed).multiple(e))}update(t){this.move(this.direction,t)}}r.directions={87:[0,-1],65:[-1,0],83:[0,1],68:[1,0]},e.RiotPoliceData=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawCircle=function(t,e,i,n,o=!0){t.beginPath(),t.arc(e,i,n,0,2*Math.PI),o?t.fill():t.stroke()},e.drawTriangle=function(t,e,i,n,o=!0){t.beginPath(),t.moveTo(e,i),t.arc(e,i,n,0,Math.PI/3),o?t.fill():t.stroke()},e.getRandomBeetwen=function(t,e){return Math.random()*e+t}},function(t,e,i){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(0),s=n(i(17));class r{constructor(t,e){this.data=t,this.config=e,this.fill="brown"}render(t,e,i){t.translate(-e+this.data.position.x,-i+this.data.position.y),t.rotate(this.data.look);const n=new Image;n.src="public/pizza.svg",t.drawImage(n,-30,-30,60,60),t.setTransform(1,0,0,1,0,0)}}e.PizzaRenderer=r;e.Pizza=class extends r{constructor(t,e){super(t,e.config),this.game=e,this.id=s.default(),this.isWaitingToEating=!1}update(t){this.data.update(t)}};class a{constructor(t=o.Vector.zero(),e=0){this.position=t,this.look=e,this.size=25,this.speed=200,this.pressedKeys={}}get direction(){let t=o.Vector.zero();return Object.keys(a.directions).forEach(e=>{(this.pressedKeys[e]||!1)&&(t=t.add(new o.Vector(...a.directions[e])))}),t}move(t,e=1){this.position=this.position.add(t.multiple(this.speed).multiple(e))}update(t){this.move(this.direction,t)}}a.directions={87:[0,-1],65:[-1,0],83:[0,1],68:[1,0]},e.PizzaData=a},function(t,e,i){var n=i(18),o=i(19),s=o;s.v1=n,s.v4=o,t.exports=s},function(t,e,i){var n,o,s=i(1),r=i(2),a=0,c=0;t.exports=function(t,e,i){var h=e&&i||0,l=e||[],d=(t=t||{}).node||n,u=void 0!==t.clockseq?t.clockseq:o;if(null==d||null==u){var p=s();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==u&&(u=o=16383&(p[6]<<8|p[7]))}var f=void 0!==t.msecs?t.msecs:(new Date).getTime(),g=void 0!==t.nsecs?t.nsecs:c+1,w=f-a+(g-c)/1e4;if(w<0&&void 0===t.clockseq&&(u=u+1&16383),(w<0||f>a)&&void 0===t.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=f,c=g,o=u;var m=(1e4*(268435455&(f+=122192928e5))+g)%4294967296;l[h++]=m>>>24&255,l[h++]=m>>>16&255,l[h++]=m>>>8&255,l[h++]=255&m;var y=f/4294967296*1e4&268435455;l[h++]=y>>>8&255,l[h++]=255&y,l[h++]=y>>>24&15|16,l[h++]=y>>>16&255,l[h++]=u>>>8|128,l[h++]=255&u;for(var v=0;v<6;++v)l[h+v]=d[v];return e||r(l)}},function(t,e,i){var n=i(1),o=i(2);t.exports=function(t,e,i){var s=e&&i||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var r=(t=t||{}).random||(t.rng||n)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e)for(var a=0;a<16;++a)e[s+a]=r[a];return e||o(r)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Config=class{constructor(){this.game={width:window.innerWidth,height:window.innerHeight},this.world={width:4444,height:2218}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9saWIvcm5nLWJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvbGliL2J5dGVzVG9VdWlkLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGUuY3NzPzhmMzQiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0eWxlLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi91cmxzLmpzIiwid2VicGFjazovLy8uL3NyYy9HYW1lLnRzIiwid2VicGFjazovLy8uL3NyYy9QbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbWVyYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUmVjdGFuZ2xlLnRzIiwid2VicGFjazovLy8uL3NyYy9NYXAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1Jpb3RQb2xpY2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9QaXp6YS50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC92MS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiVmVjdG9yIiwiW29iamVjdCBPYmplY3RdIiwieCIsInkiLCJ0aGlzIiwidmVjdG9yIiwiZmFjdG9yIiwieUZhY3RvciIsInYxIiwidjIiLCJNYXRoIiwiYXRhbjIiLCJzcXJ0IiwicG93IiwidiIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsIndpbmRvdyIsIm1zQ3J5cHRvIiwicm5kczgiLCJVaW50OEFycmF5Iiwicm5kcyIsIkFycmF5IiwicmFuZG9tIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJidWYiLCJvZmZzZXQiLCJidGgiLCJqb2luIiwiR2FtZV8xIiwiY29uZmlnXzEiLCJjYW52YXMiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZCIsImJvZHkiLCJzdHlsZSIsImJhY2tncm91bmRDb2xvciIsImNvbmZpZyIsIkNvbmZpZyIsIndpZHRoIiwiZ2FtZSIsImhlaWdodCIsImNsYXNzTGlzdCIsImFkZCIsImN0eCIsImdldENvbnRleHQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiR2FtZSIsInRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImxvb3AiLCJjbGVhclJlY3QiLCJkdCIsInVwZGF0ZSIsInJlbmRlciIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNvbnRlbnQiLCJvcHRpb25zIiwiaG1yIiwidHJhbnNmb3JtIiwiaW5zZXJ0SW50byIsInVuZGVmaW5lZCIsImxvY2FscyIsInB1c2giLCJ1c2VTb3VyY2VNYXAiLCJsaXN0IiwibWFwIiwiaXRlbSIsImNzc01hcHBpbmciLCJidG9hIiwic291cmNlTWFwcGluZyIsInNvdXJjZU1hcCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsImFsbCIsImF0b2IiLCJhcHBseSIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJwYXJlbnQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJkb21TdHlsZSIsInJlZnMiLCJqIiwicGFydHMiLCJhZGRTdHlsZSIsImxpc3RUb1N0eWxlcyIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCIsImluc2VydEF0IiwibmV4dFNpYmxpbmciLCJpbnNlcnRCZWZvcmUiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImF0dHJzIiwidHlwZSIsIm5vbmNlIiwibmMiLCJnZXROb25jZSIsImFkZEF0dHJzIiwiZWwiLCJrZXlzIiwiZm9yRWFjaCIsInNldEF0dHJpYnV0ZSIsIm9iaiIsInJlbW92ZSIsInJlc3VsdCIsImRlZmF1bHQiLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInJldm9rZU9iamVjdFVSTCIsIkJsb2IiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsIlBsYXllcl8xIiwiQ2FtZXJhXzEiLCJNYXBfMSIsIlZlY3Rvcl8xIiwiUmlvdFBvbGljZV8xIiwiUGl6emFfMSIsInJpb3RQb2xpY2UiLCJwaXp6YXMiLCJwbGF5ZXIiLCJQbGF5ZXIiLCJQbGF5ZXJEYXRhIiwicm9vbSIsIndvcmxkIiwiTWFwIiwiY3JlYXRlUmlvdFBvbGljZSIsImdlbmVyYXRlIiwiY2FtZXJhIiwiQ2FtZXJhIiwiZm9sbG93IiwiZGF0YSIsImltZyIsIkltYWdlIiwic3JjIiwiZHJhd0ltYWdlIiwieFZpZXciLCJ5VmlldyIsInJlbmRlclNxdWFyZSIsInJlbmRlclJpb3RQb2xpY2UiLCJyZW5kZXJQaXp6YXMiLCJhdmFpbGFibGVQaXp6YXMiLCJwaXp6YSIsImtvc21vbmF2dCIsImRpc3RhbmNlIiwicG9zaXRpb24iLCJpc1dhaXRpbmdUb0VhdGluZyIsImhhcyIsInNldCIsInNpemUiLCJtaW5EaXN0YW5jZSIsInJlZHVjZSIsIm1pbiIsImZpbmQiLCJ1cGRhdGVSaW90UG9saWNlIiwiXyIsImZyb20iLCJSaW90UG9saWNlIiwiUmlvdFBvbGljZURhdGEiLCJQSSIsImZpbmRJbmRleCIsIl9waXp6YSIsImNvbnNvbGUiLCJsb2ciLCJQaXp6YSIsIlBpenphRGF0YSIsInNlYXJjaEludGVyc2VjdGlvbiIsIlBsYXllclJlbmRlcmVyIiwiZmlsbCIsInRyYW5zbGF0ZSIsInJvdGF0ZSIsImxvb2siLCJwbGF5ZXJJbWciLCJzZXRUcmFuc2Zvcm0iLCJzdXBlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJjcmVhdGVQaXp6YSIsImNyZWF0ZVBpenphT2JqZWN0IiwiemVybyIsInNwZWVkIiwicHJlc3NlZEtleXMiLCJrZXlDb2RlIiwiZ2V0RWxlbWVudEJ5SWQiLCJwYWdlWCIsInBhZ2VZIiwiYW5nbGUiLCJkaXJlY3Rpb24iLCJkaXJlY3Rpb25zIiwidG8iLCJtdWx0aXBsZSIsIm1vdmUiLCI4NyIsIjY1IiwiODMiLCI2OCIsIlJlY3RhbmdsZV8xIiwiQVhJUyIsIk5PTkUiLCJIT1JJWk9OVEFMIiwiVkVSVElDQUwiLCJCT1RIIiwiY2FudmFzV2lkdGgiLCJjYW52YXNIZWlnaHQiLCJ3b3JsZFdpZHRoIiwid29ybGRIZWlnaHQiLCJ4RGVhZFpvbmUiLCJ5RGVhZFpvbmUiLCJ3VmlldyIsImhWaWV3IiwiYXhpcyIsImZvbGxvd2VkIiwidmlld3BvcnRSZWN0IiwiUmVjdGFuZ2xlIiwid29ybGRSZWN0IiwiZ2FtZU9iamVjdCIsIndpdGhpbiIsImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImltYWdlIiwicm93cyIsImNvbHVtbnMiLCJjb2xvciIsInNhdmUiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJyZWN0IiwiY2xvc2VQYXRoIiwicmVzdG9yZSIsInRvRGF0YVVSTCIsImNvbnRleHQiLCJzeCIsInN5Iiwic1dpZHRoIiwic0hlaWdodCIsImRXaWR0aCIsImRIZWlnaHQiLCJ1dGlsc18xIiwiUmlvdFBvbGljZVJlbmRlcmVyIiwia29zbW9uYXZ0SW1nIiwiZ2V0UmFuZG9tQmVldHdlbiIsImluaXRpYWxQb3NpdGlvbiIsImluaXRpYWxMb29rIiwiY2xvbmUiLCJhYnMiLCJlYXRQaXp6YSIsImRyYXdDaXJjbGUiLCJyYWRpdXMiLCJhcmMiLCJzdHJva2UiLCJkcmF3VHJpYW5nbGUiLCJtb3ZlVG8iLCJ1dWlkXzEiLCJfX2ltcG9ydERlZmF1bHQiLCJQaXp6YVJlbmRlcmVyIiwicGl6emFJbWciLCJ2NCIsInV1aWQiLCJfbm9kZUlkIiwiX2Nsb2Nrc2VxIiwicm5nIiwiYnl0ZXNUb1V1aWQiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImIiLCJub2RlIiwiY2xvY2tzZXEiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIkRhdGUiLCJnZXRUaW1lIiwibnNlY3MiLCJ0bCIsInRtaCIsImlpIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFB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QUFBNVgsS0FBQThYLElBQUEsTUFHQUYsRUFBQTVYLEtBQUEsSUFBQThYLEVBR0EsUUFBQXJXLEVBQUEsRUFBaUJBLEVBQUEsSUFBT0EsRUFDeEJtVyxFQUFBNVgsRUFBQXlCLEdBQUFvVyxFQUFBcFcsR0FHQSxPQUFBa0MsR0FBQThULEVBQUFHLHFCQ3pHQSxJQUFBSixFQUFVNVgsRUFBUSxHQUNsQjZYLEVBQWtCN1gsRUFBUSxHQTJCMUJHLEVBQUFELFFBekJBLFNBQUFnRyxFQUFBbkMsRUFBQUMsR0FDQSxJQUFBNUQsRUFBQTJELEdBQUFDLEdBQUEsRUFFQSxxQkFDQUQsRUFBQSxXQUFBbUMsRUFBQSxJQUFBeEMsTUFBQSxTQUNBd0MsRUFBQSxNQUlBLElBQUF6QyxHQUZBeUMsS0FBQSxJQUVBdkMsU0FBQXVDLEVBQUEwUixVQU9BLEdBSkFuVSxFQUFBLE1BQUFBLEVBQUEsTUFDQUEsRUFBQSxNQUFBQSxFQUFBLE9BR0FNLEVBQ0EsUUFBQTJVLEVBQUEsRUFBb0JBLEVBQUEsS0FBU0EsRUFDN0IzVSxFQUFBM0QsRUFBQXNZLEdBQUFqVixFQUFBaVYsR0FJQSxPQUFBM1UsR0FBQThULEVBQUFwVSxtRkN6QkF2RCxFQUFBMkUsT0FBQSxNQUFBeEMsY0FDSUcsS0FBQXVDLEtBQU8sQ0FDSEQsTUFBT3pCLE9BQU9zVixXQUNkM1QsT0FBUTNCLE9BQU91VixhQUVuQnBXLEtBQUEyTSxNQUFRLENBQ0pySyxNQUFPLEtBQ1BFLE9BQVEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikge1xuICAgIH1cblxuICAgIGFkZCh2ZWN0b3I6IFZlY3Rvcik6IFZlY3RvciB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMueCArIHZlY3Rvci54LCB0aGlzLnkgKyB2ZWN0b3IueSk7XG4gICAgfVxuXG4gICAgbXVsdGlwbGUoZmFjdG9yOiBudW1iZXIsIHlGYWN0b3IgPzogbnVtYmVyKTogVmVjdG9yIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IodGhpcy54ICogZmFjdG9yLCB0aGlzLnkgKiAoeUZhY3RvciAhPSBudWxsID8geUZhY3RvciA6IGZhY3RvcikpO1xuICAgIH1cblxuICAgIHN0YXRpYyB6ZXJvKCkge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcigwLCAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBhbmdsZSh2MTogVmVjdG9yLCB2MjogVmVjdG9yKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYXRhbjIodjEueCAtIHYyLngsIC0odjEueSAtIHYyLnkpKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZGlzdGFuY2UodjE6IFZlY3RvciwgdjI6IFZlY3Rvcikge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KHYxLnggLSB2Mi54LCAyKSArIE1hdGgucG93KHYxLnkgLSB2Mi55LCAyKSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGNsb25lKHY6IFZlY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3Rvcih2LngsIHYueSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHR1cm5Bcm91bmQodjogVmVjdG9yKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yKC12LngsIC12LnkpO1xuICAgIH1cbn1cbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuICBJbiB0aGVcbi8vIGJyb3dzZXIgdGhpcyBpcyBhIGxpdHRsZSBjb21wbGljYXRlZCBkdWUgdG8gdW5rbm93biBxdWFsaXR5IG9mIE1hdGgucmFuZG9tKClcbi8vIGFuZCBpbmNvbnNpc3RlbnQgc3VwcG9ydCBmb3IgdGhlIGBjcnlwdG9gIEFQSS4gIFdlIGRvIHRoZSBiZXN0IHdlIGNhbiB2aWFcbi8vIGZlYXR1cmUtZGV0ZWN0aW9uXG5cbi8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0b1xuLy8gaW1wbGVtZW50YXRpb24uIEFsc28sIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byBvbiBJRTExLlxudmFyIGdldFJhbmRvbVZhbHVlcyA9ICh0eXBlb2YoY3J5cHRvKSAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChjcnlwdG8pKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YobXNDcnlwdG8pICE9ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pKTtcblxuaWYgKGdldFJhbmRvbVZhbHVlcykge1xuICAvLyBXSEFUV0cgY3J5cHRvIFJORyAtIGh0dHA6Ly93aWtpLndoYXR3Zy5vcmcvd2lraS9DcnlwdG9cbiAgdmFyIHJuZHM4ID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB3aGF0d2dSTkcoKSB7XG4gICAgZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbiAgICByZXR1cm4gcm5kczg7XG4gIH07XG59IGVsc2Uge1xuICAvLyBNYXRoLnJhbmRvbSgpLWJhc2VkIChSTkcpXG4gIC8vXG4gIC8vIElmIGFsbCBlbHNlIGZhaWxzLCB1c2UgTWF0aC5yYW5kb20oKS4gIEl0J3MgZmFzdCwgYnV0IGlzIG9mIHVuc3BlY2lmaWVkXG4gIC8vIHF1YWxpdHkuXG4gIHZhciBybmRzID0gbmV3IEFycmF5KDE2KTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG1hdGhSTkcoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIHI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICBpZiAoKGkgJiAweDAzKSA9PT0gMCkgciA9IE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAwMDtcbiAgICAgIHJuZHNbaV0gPSByID4+PiAoKGkgJiAweDAzKSA8PCAzKSAmIDB4ZmY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJuZHM7XG4gIH07XG59XG4iLCIvKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cbnZhciBieXRlVG9IZXggPSBbXTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcbiAgcmV0dXJuIChbYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLFxuXHRidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsXG5cdGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJyxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSxcblx0YnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0pLmpvaW4oJycpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJ5dGVzVG9VdWlkO1xuIiwiaW1wb3J0ICcuL3N0eWxlLmNzcyc7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSAnLi9HYW1lJztcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcblxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5jYW52YXMuaWQgPSAnZGlzcGxheSc7XG5kb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiIzMwMzAzMFwiO1xuXG5jb25zdCBjb25maWcgPSBuZXcgQ29uZmlnKCk7XG5cbmNhbnZhcy53aWR0aCA9IGNvbmZpZy5nYW1lLndpZHRoO1xuY2FudmFzLmhlaWdodCA9IGNvbmZpZy5nYW1lLmhlaWdodDtcblxuY2FudmFzLmNsYXNzTGlzdC5hZGQoJ2dhbWUtZGlzcGxheScpO1xuXG5cbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuaWYgKGN0eCA9PSBudWxsKSB7XG4gICAgdGhyb3cgRXJyb3IoXCJQTkhcIik7XG59XG5cbmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcblxuY29uc3QgZ2FtZTogR2FtZSA9IG5ldyBHYW1lKGNvbmZpZyk7XG5cbihmdW5jdGlvbiBpbml0KCkge1xuXG59KSgpO1xuXG5sZXQgdGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuXG4oZnVuY3Rpb24gbG9vcCgpIHtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgY29uc3Qgbm93ID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgZHQgPSAobm93IC0gdGltZSkgLyAxMDAwO1xuICAgIHRpbWUgPSBub3c7XG5cbiAgICBnYW1lLnVwZGF0ZShkdCk7XG4gICAgZ2FtZS5yZW5kZXIoY3R4KTtcblxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbn0pKCk7XG4iLCJcbnZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9zdHlsZS5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKShmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIlxcbkBmb250LWZhY2Uge1xcbiAgICBmb250LWZhbWlseTogJ1ByZXNzIFN0YXJ0IDJQJztcXG4gICAgZm9udC1zdHlsZTogbm9ybWFsO1xcbiAgICBmb250LXdlaWdodDogNDAwO1xcbiAgICBzcmM6IHVybChodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tL3MvcHJlc3NzdGFydDJwL3Y2L2UzdDRldU84VC0yNjdvSUFRQXU2akRReUszblZpdk5tNEk4MS53b2ZmMikgZm9ybWF0KCd3b2ZmMicpO1xcbiAgICB1bmljb2RlLXJhbmdlOiBVKzAwMDAtMDBGRiwgVSswMTMxLCBVKzAxNTItMDE1MywgVSswMkJCLTAyQkMsIFUrMDJDNiwgVSswMkRBLCBVKzAyREMsIFUrMjAwMC0yMDZGLCBVKzIwNzQsIFUrMjBBQywgVSsyMTIyLCBVKzIxOTEsIFUrMjE5MywgVSsyMjEyLCBVKzIyMTUsIFUrRkVGRiwgVStGRkZEO1xcbn1cXG5cXG5ib2R5LCBodG1sIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIG1hcmdpbjogMDtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbiAgICBmb250LWZhbWlseTogJ1ByZXNzIFN0YXJ0IDJQJywgU2Fuc1NlcmlmLCBBcmlhbDtcXG59XFxuXFxuYm9keSB7XFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG59XFxuXFxuY2FudmFzIHtcXG4gICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XFxuICAgIGltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xcbiAgICBjdXJzb3I6IGNlbGw7XFxufVxcblxcbi5nYW1lLWRpc3BsYXkge1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5nYW1lLXVpLWNvbnRhaW5lciB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIHdpZHRoOiA4MDBweDtcXG4gICAgaGVpZ2h0OiA2MDBweDtcXG59XFxuXFxuLnRvd2VyLXNlbGVjdG9yLWNvbnRhaW5lciB7XFxuICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG4gICAgcGFkZGluZzogNDBweCA1cHggMTBweDtcXG4gICAgYmFja2dyb3VuZDogdXJsKCcvcHVibGljL2ltYWdlcy93YWxsLnBuZycpIHJlcGVhdDtcXG4gICAgdG9wOiAwO1xcbiAgICByaWdodDogMDtcXG4gICAgd2lkdGg6IDE0NXB4O1xcbiAgICBoZWlnaHQ6IDYwMHB4O1xcbn1cXG5cXG4udG93ZXItc2VsZWN0b3ItdGl0bGUge1xcbiAgICBjb2xvcjogZ29sZDtcXG4gICAgb3BhY2l0eTogMC43NTtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICByaWdodDogMDtcXG4gICAgdG9wOiAwO1xcbiAgICBiYWNrZ3JvdW5kOiB1cmwoL3B1YmxpYy9pbWFnZXMvY2hlc3QucG5nKSBuby1yZXBlYXQgMTBweCAxMHB4O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IDIwcHggMjBweDtcXG4gICAgcGFkZGluZzogMTBweCAwIDAgMzBweCA7XFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgIHdpZHRoOiAxNDVweDtcXG4gICAgdGV4dC1hbGlnbjogbGVmdDtcXG59XFxuXFxuLnRvd2VyLXNlbGVjdG9yIHtcXG4gICAgYmFja2dyb3VuZDogdXJsKC9wdWJsaWMvaW1hZ2VzL2JvcmRlci5wbmcpIG5vLXJlcGVhdCxyZ2JhKDI1NSwyNTUsMjU1LDAuNyk7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogNjBweCA2MHB4O1xcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgIHdpZHRoOiA2MHB4O1xcbiAgICBoZWlnaHQ6IDYwcHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XFxufVxcblxcbi50b3dlci1zZWxlY3Rvci5hY3RpdmUge1xcbiAgICBib3gtc2hhZG93OiAwIDAgMTVweCBnb2xkO1xcbn1cXG5cXG4udG93ZXItc2VsZWN0b3I6bnRoLW9mLXR5cGUoMm4rMSkge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDE1cHg7XFxufVxcblwiLCBcIlwiXSk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiAnQG1lZGlhICcgKyBpdGVtWzJdICsgJ3snICsgY29udGVudCArICd9JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250ZW50O1xuICAgICAgfVxuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgbW9kdWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGl0ZW0gPSBtb2R1bGVzW2ldOyAvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG4gICAgICAvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuICAgICAgLy8gd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuICAgICAgLy8gSSBob3BlIHRoaXMgd2lsbCBuZXZlciBvY2N1ciAoSGV5IHRoaXMgd2F5IHdlIGhhdmUgc21hbGxlciBidW5kbGVzKVxuXG4gICAgICBpZiAoaXRlbVswXSA9PSBudWxsIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGlmIChtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSAnKCcgKyBpdGVtWzJdICsgJykgYW5kICgnICsgbWVkaWFRdWVyeSArICcpJztcbiAgICAgICAgfVxuXG4gICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuICcvKiMgc291cmNlVVJMPScgKyBjc3NNYXBwaW5nLnNvdXJjZVJvb3QgKyBzb3VyY2UgKyAnICovJztcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSAnc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsJyArIGJhc2U2NDtcbiAgcmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn0iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCwgcGFyZW50KSB7XG4gIGlmIChwYXJlbnQpe1xuICAgIHJldHVybiBwYXJlbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICB9XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0LCBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBwYXNzaW5nIGZ1bmN0aW9uIGluIG9wdGlvbnMsIHRoZW4gdXNlIGl0IGZvciByZXNvbHZlIFwiaGVhZFwiIGVsZW1lbnQuXG4gICAgICAgICAgICAgICAgLy8gVXNlZnVsIGZvciBTaGFkb3cgUm9vdCBzdHlsZSBpLmVcbiAgICAgICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAgICAgLy8gICBpbnNlcnRJbnRvOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvb1wiKS5zaGFkb3dSb290IH1cbiAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcblx0XHRcdHZhciBzdHlsZVRhcmdldCA9IGdldFRhcmdldC5jYWxsKHRoaXMsIHRhcmdldCwgcGFyZW50KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRBdC5iZWZvcmUsIHRhcmdldCk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cblx0aWYob3B0aW9ucy5hdHRycy5ub25jZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0dmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcblx0XHRpZiAobm9uY2UpIHtcblx0XHRcdG9wdGlvbnMuYXR0cnMubm9uY2UgPSBub25jZTtcblx0XHR9XG5cdH1cblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdGlmKG9wdGlvbnMuYXR0cnMudHlwZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHR9XG5cdG9wdGlvbnMuYXR0cnMucmVsID0gXCJzdHlsZXNoZWV0XCI7XG5cblx0YWRkQXR0cnMobGluaywgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBsaW5rKTtcblxuXHRyZXR1cm4gbGluaztcbn1cblxuZnVuY3Rpb24gYWRkQXR0cnMgKGVsLCBhdHRycykge1xuXHRPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG5cdFx0ZWwuc2V0QXR0cmlidXRlKGtleSwgYXR0cnNba2V5XSk7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBnZXROb25jZSgpIHtcblx0aWYgKHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBfX3dlYnBhY2tfbm9uY2VfXztcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSB0eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbidcblx0XHQgPyBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKSBcblx0XHQgOiBvcHRpb25zLnRyYW5zZm9ybS5kZWZhdWx0KG9iai5jc3MpO1xuXG5cdCAgICBpZiAocmVzdWx0KSB7XG5cdCAgICBcdC8vIElmIHRyYW5zZm9ybSByZXR1cm5zIGEgdmFsdWUsIHVzZSB0aGF0IGluc3RlYWQgb2YgdGhlIG9yaWdpbmFsIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgcnVubmluZyBydW50aW1lIHRyYW5zZm9ybWF0aW9ucyBvbiB0aGUgY3NzLlxuXHQgICAgXHRvYmouY3NzID0gcmVzdWx0O1xuXHQgICAgfSBlbHNlIHtcblx0ICAgIFx0Ly8gSWYgdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiByZXR1cm5zIGEgZmFsc3kgdmFsdWUsIGRvbid0IGFkZCB0aGlzIGNzcy5cblx0ICAgIFx0Ly8gVGhpcyBhbGxvd3MgY29uZGl0aW9uYWwgbG9hZGluZyBvZiBjc3Ncblx0ICAgIFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHQgICAgXHRcdC8vIG5vb3Bcblx0ICAgIFx0fTtcblx0ICAgIH1cblx0fVxuXG5cdGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuXHRcdHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuXG5cdFx0c3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKSk7XG5cblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcblx0XHRyZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuXG5cdH0gZWxzZSBpZiAoXG5cdFx0b2JqLnNvdXJjZU1hcCAmJlxuXHRcdHR5cGVvZiBVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwuY3JlYXRlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIEJsb2IgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCJcblx0KSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVMaW5rRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSB1cGRhdGVMaW5rLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cblx0XHRcdGlmKHN0eWxlLmhyZWYpIFVSTC5yZXZva2VPYmplY3RVUkwoc3R5bGUuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZSA9IGNyZWF0ZVN0eWxlRWxlbWVudChvcHRpb25zKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG5cdFx0fTtcblx0fVxuXG5cdHVwZGF0ZShvYmopO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZSAobmV3T2JqKSB7XG5cdFx0aWYgKG5ld09iaikge1xuXHRcdFx0aWYgKFxuXHRcdFx0XHRuZXdPYmouY3NzID09PSBvYmouY3NzICYmXG5cdFx0XHRcdG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmXG5cdFx0XHRcdG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXBcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHVwZGF0ZShvYmogPSBuZXdPYmopO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZW1vdmUoKTtcblx0XHR9XG5cdH07XG59XG5cbnZhciByZXBsYWNlVGV4dCA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciB0ZXh0U3RvcmUgPSBbXTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gKGluZGV4LCByZXBsYWNlbWVudCkge1xuXHRcdHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcblxuXHRcdHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuXHR9O1xufSkoKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyAoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuXHR2YXIgY3NzID0gcmVtb3ZlID8gXCJcIiA6IG9iai5jc3M7XG5cblx0aWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcblx0fSBlbHNlIHtcblx0XHR2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG5cdFx0dmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG5cblx0XHRpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcblx0XHRcdHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnIChzdHlsZSwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG5cblx0aWYobWVkaWEpIHtcblx0XHRzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSlcblx0fVxuXG5cdGlmKHN0eWxlLnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG5cdH0gZWxzZSB7XG5cdFx0d2hpbGUoc3R5bGUuZmlyc3RDaGlsZCkge1xuXHRcdFx0c3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0c3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayAobGluaywgb3B0aW9ucywgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHQvKlxuXHRcdElmIGNvbnZlcnRUb0Fic29sdXRlVXJscyBpc24ndCBkZWZpbmVkLCBidXQgc291cmNlbWFwcyBhcmUgZW5hYmxlZFxuXHRcdGFuZCB0aGVyZSBpcyBubyBwdWJsaWNQYXRoIGRlZmluZWQgdGhlbiBsZXRzIHR1cm4gY29udmVydFRvQWJzb2x1dGVVcmxzXG5cdFx0b24gYnkgZGVmYXVsdC4gIE90aGVyd2lzZSBkZWZhdWx0IHRvIHRoZSBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgb3B0aW9uXG5cdFx0ZGlyZWN0bHlcblx0Ki9cblx0dmFyIGF1dG9GaXhVcmxzID0gb3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgPT09IHVuZGVmaW5lZCAmJiBzb3VyY2VNYXA7XG5cblx0aWYgKG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzIHx8IGF1dG9GaXhVcmxzKSB7XG5cdFx0Y3NzID0gZml4VXJscyhjc3MpO1xuXHR9XG5cblx0aWYgKHNvdXJjZU1hcCkge1xuXHRcdC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzI2NjAzODc1XG5cdFx0Y3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuXHR9XG5cblx0dmFyIGJsb2IgPSBuZXcgQmxvYihbY3NzXSwgeyB0eXBlOiBcInRleHQvY3NzXCIgfSk7XG5cblx0dmFyIG9sZFNyYyA9IGxpbmsuaHJlZjtcblxuXHRsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYykgVVJMLnJldm9rZU9iamVjdFVSTChvbGRTcmMpO1xufVxuIiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJpbXBvcnQgeyBQbGF5ZXIsIFBsYXllckRhdGEgfSBmcm9tICcuL1BsYXllcic7XG5pbXBvcnQgeyBDb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBDYW1lcmEgfSBmcm9tICcuL0NhbWVyYSc7XG5pbXBvcnQgeyBNYXAgYXMgR2FtZU1hcCB9IGZyb20gJy4vTWFwJztcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IFJpb3RQb2xpY2UsIFJpb3RQb2xpY2VEYXRhIH0gZnJvbSAnLi9SaW90UG9saWNlJztcbmltcG9ydCB7IFBpenphLCBQaXp6YURhdGEgfSBmcm9tICcuL1BpenphJztcblxuZXhwb3J0IGNsYXNzIEdhbWUge1xuICAgIHBsYXllcjogUGxheWVyO1xuICAgIGNhbWVyYTogQ2FtZXJhO1xuICAgIHJvb206IHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIG1hcDogR2FtZU1hcCB9O1xuICAgIHJpb3RQb2xpY2U6IFJpb3RQb2xpY2VbXSA9IFtdO1xuICAgIHBpenphczogUGl6emFbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGNvbmZpZzogQ29uZmlnKSB7XG4gICAgICAgIHRoaXMucGxheWVyID0gbmV3IFBsYXllcihuZXcgUGxheWVyRGF0YShuZXcgVmVjdG9yKDE4NTAsIDEyNTApLCAwLCB0aGlzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMucm9vbSA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBjb25maWcud29ybGQud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbmZpZy53b3JsZC5oZWlnaHQsXG4gICAgICAgICAgICBtYXA6IG5ldyBHYW1lTWFwKGNvbmZpZy53b3JsZC53aWR0aCwgY29uZmlnLndvcmxkLmhlaWdodClcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNyZWF0ZVJpb3RQb2xpY2UoKTtcbiAgICAgICAgdGhpcy5yb29tLm1hcC5nZW5lcmF0ZSgpO1xuXG4gICAgICAgIHRoaXMuY2FtZXJhID0gbmV3IENhbWVyYSgwLCAwLCB0aGlzLmNvbmZpZy5nYW1lLndpZHRoLCB0aGlzLmNvbmZpZy5nYW1lLmhlaWdodCwgdGhpcy5yb29tLndpZHRoLCB0aGlzLnJvb20uaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5jYW1lcmEuZm9sbG93KHRoaXMucGxheWVyLmRhdGEsIHRoaXMuY29uZmlnLmdhbWUud2lkdGggLyAyLCB0aGlzLmNvbmZpZy5nYW1lLmhlaWdodCAvIDIpO1xuICAgIH1cblxuICAgIHJlbmRlclNxdWFyZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLnNyYyA9ICdwdWJsaWMvc3F1YXJlLnBuZyc7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAtdGhpcy5jYW1lcmEueFZpZXcsIC10aGlzLmNhbWVyYS55VmlldywgaW1nLndpZHRoLzEuOCwgaW1nLmhlaWdodC8xLjgpO1xuICAgIH1cblxuICAgIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICB0aGlzLnJlbmRlclNxdWFyZShjdHgpO1xuICAgICAgICAvLyB0aGlzLnJvb20ubWFwLmRyYXcoY3R4LCB0aGlzLmNhbWVyYS54VmlldywgdGhpcy5jYW1lcmEueVZpZXcpO1xuICAgICAgICB0aGlzLnBsYXllci5yZW5kZXIoY3R4LCB0aGlzLmNhbWVyYS54VmlldywgdGhpcy5jYW1lcmEueVZpZXcpO1xuICAgICAgICB0aGlzLnJlbmRlclJpb3RQb2xpY2UoY3R4KTtcbiAgICAgICAgdGhpcy5yZW5kZXJQaXp6YXMoY3R4KTtcbiAgICB9XG5cbiAgICBzZWFyY2hJbnRlcnNlY3Rpb24oKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVBpenphczogTWFwPFBpenphLCB7IGtvc21vbmF2dDogUmlvdFBvbGljZSwgZGlzdGFuY2U6IG51bWJlciB9W10+ID0gbmV3IE1hcCgpO1xuICAgICAgICBpZiAodGhpcy5waXp6YXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnBpenphcy5mb3JFYWNoKHBpenphID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnJpb3RQb2xpY2UuZm9yRWFjaChrb3Ntb25hdnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXN0YW5jZSA9IFZlY3Rvci5kaXN0YW5jZShrb3Ntb25hdnQuZGF0YS5wb3NpdGlvbiwgcGl6emEuZGF0YS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChWZWN0b3IuZGlzdGFuY2Uoa29zbW9uYXZ0LmRhdGEucG9zaXRpb24sIHBpenphLmRhdGEucG9zaXRpb24pIDwgODAwICYmICFwaXp6YS5pc1dhaXRpbmdUb0VhdGluZyAmJiAha29zbW9uYXZ0LmRhdGEudGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVQaXp6YXMuaGFzKHBpenphKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZVBpenphcy5nZXQocGl6emEpLnB1c2goeyBrb3Ntb25hdnQsIGRpc3RhbmNlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVQaXp6YXMuc2V0KHBpenphLCBbeyBrb3Ntb25hdnQsIGRpc3RhbmNlIH1dKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChhdmFpbGFibGVQaXp6YXMuc2l6ZSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBhdmFpbGFibGVQaXp6YXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWluRGlzdGFuY2UgPSB2YWx1ZS5yZWR1Y2UoKG1pbiwgcCkgPT4gcC5kaXN0YW5jZSA8IG1pbiA/IHAuZGlzdGFuY2UgOiBtaW4sIHZhbHVlWzBdLmRpc3RhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBrb3Ntb25hdnQgfSA9IHZhbHVlLmZpbmQoa29zbW9uYXZ0ID0+IGtvc21vbmF2dC5kaXN0YW5jZSA9PT0gbWluRGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBrb3Ntb25hdnQuZGF0YS50YXJnZXQgPSBrZXk7XG4gICAgICAgICAgICAgICAgICAgIGtleS5pc1dhaXRpbmdUb0VhdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIudXBkYXRlKGR0KTtcbiAgICAgICAgdGhpcy51cGRhdGVSaW90UG9saWNlKGR0KTtcbiAgICAgICAgdGhpcy5jYW1lcmEudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgcmVuZGVyUmlvdFBvbGljZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgICAgICB0aGlzLnJpb3RQb2xpY2UuZm9yRWFjaCgoXykgPT4ge1xuICAgICAgICAgICAgXy5yZW5kZXIoY3R4LCB0aGlzLmNhbWVyYS54VmlldywgdGhpcy5jYW1lcmEueVZpZXcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB1cGRhdGVSaW90UG9saWNlKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5yaW90UG9saWNlLmZvckVhY2goKF8pID0+IHtcbiAgICAgICAgICAgIF8udXBkYXRlKGR0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyUGl6emFzKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XG4gICAgICAgIHRoaXMucGl6emFzLmZvckVhY2goXyA9PiB7XG4gICAgICAgICAgICBfLnJlbmRlcihjdHgsIHRoaXMuY2FtZXJhLnhWaWV3IC0gMTAsIHRoaXMuY2FtZXJhLnlWaWV3IC0gMTApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNyZWF0ZVJpb3RQb2xpY2UoKSB7XG4gICAgICAgIEFycmF5LmZyb20oe2xlbmd0aDogOX0pLmZvckVhY2goKF8sIGkpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmlvdFBvbGljZS5wdXNoKG5ldyBSaW90UG9saWNlKG5ldyBSaW90UG9saWNlRGF0YShuZXcgVmVjdG9yKDIxNTAsIDkwMCArIDgwICogaSArIDEpLCBNYXRoLlBJICogMS41LCB0aGlzKSwgdGhpcykpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBlYXRQaXp6YShwaXp6YTogUGl6emEpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBpenphcy5maW5kSW5kZXgoX3BpenphID0+IF9waXp6YS5pZCA9PT0gcGl6emEuaWQpO1xuICAgICAgICBjb25zb2xlLmxvZyhpbmRleCk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMucGl6emFzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjcmVhdGVQaXp6YU9iamVjdChwb3NpdGlvbjogVmVjdG9yKSB7XG4gICAgICAgIGlmICh0aGlzLnBpenphcy5sZW5ndGggPj0gNSkgcmV0dXJuO1xuICAgICAgICB0aGlzLnBpenphcy5wdXNoKG5ldyBQaXp6YShuZXcgUGl6emFEYXRhKG5ldyBWZWN0b3IocG9zaXRpb24ueCwgcG9zaXRpb24ueSkpLCB0aGlzKSk7XG4gICAgICAgIHRoaXMuc2VhcmNoSW50ZXJzZWN0aW9uKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSAnLi9WZWN0b3InO1xuaW1wb3J0IHsgQ29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgZHJhd0NpcmNsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHsgUmlvdFBvbGljZSwgUmlvdFBvbGljZURhdGEgfSBmcm9tICcuL1Jpb3RQb2xpY2UnO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gJy4vR2FtZSc7XG5pbXBvcnQgZG9jID0gTW9jaGEucmVwb3J0ZXJzLmRvYztcbmltcG9ydCB7IENhbWVyYSB9IGZyb20gJy4vQ2FtZXJhJztcblxuXG5leHBvcnQgY2xhc3MgUGxheWVyUmVuZGVyZXIge1xuICAgIHByaXZhdGUgZmlsbCA9ICcjM2FlYmNhJztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBkYXRhOiBQbGF5ZXJEYXRhLCBwcml2YXRlIGNvbmZpZzogQ29uZmlnKSB7XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4VmlldzogbnVtYmVyLCB5VmlldzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLXhWaWV3ICsgdGhpcy5kYXRhLnBvc2l0aW9uLngsIC15VmlldyArIHRoaXMuZGF0YS5wb3NpdGlvbi55KTtcbiAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLmRhdGEubG9vayk7XG4gICAgICAgIC8vIGN0eC5maWxsU3R5bGUgPSB0aGlzLmZpbGw7XG4gICAgICAgIGNvbnN0IHBsYXllckltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBwbGF5ZXJJbWcuc3JjID0gJ3B1YmxpYy9wbGF5ZXIuc3ZnJztcbiAgICAgICAgY3R4LmRyYXdJbWFnZShwbGF5ZXJJbWcsIC0zMSwgLTQyLCA1MiwgNzUpO1xuICAgICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBsYXllciBleHRlbmRzIFBsYXllclJlbmRlcmVyIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhOiBQbGF5ZXJEYXRhLCBwcml2YXRlIGdhbWU6IEdhbWUpIHtcbiAgICAgICAgc3VwZXIoZGF0YSwgZ2FtZS5jb25maWcpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVQaXp6YSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kYXRhLnVwZGF0ZShkdCk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGl6emEoKSB7XG4gICAgICAgIHRoaXMuZ2FtZS5jcmVhdGVQaXp6YU9iamVjdCh0aGlzLmRhdGEucG9zaXRpb24pO1xuICAgIH1cbn1cblxudHlwZSBUdXBsZSA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBjbGFzcyBQbGF5ZXJEYXRhIHtcbiAgICBzaXplOiBudW1iZXIgPSAyMDsgLy8gc2l6ZSBvZiBib2R5XG4gICAgc3BlZWQ6IG51bWJlciA9IDIwMDtcblxuICAgIHN0YXRpYyBkaXJlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBUdXBsZT4gPSB7XG4gICAgICAgIDg3OiBbMCwgLTFdLFxuICAgICAgICA2NTogWy0xLCAwXSxcbiAgICAgICAgODM6IFswLCAxXSxcbiAgICAgICAgNjg6IFsxLCAwXSxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBwcmVzc2VkS2V5czogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcblxuICAgIGdldCBkaXJlY3Rpb24oKTogVmVjdG9yIHtcbiAgICAgICAgbGV0IHZlY3RvciA9IFZlY3Rvci56ZXJvKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoUGxheWVyRGF0YS5kaXJlY3Rpb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1ByZXNzZWQgPSB0aGlzLnByZXNzZWRLZXlzW2tleV0gfHwgZmFsc2U7XG4gICAgICAgICAgICBpZiAoaXNQcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgdmVjdG9yID0gdmVjdG9yLmFkZChuZXcgVmVjdG9yKC4uLlBsYXllckRhdGEuZGlyZWN0aW9uc1trZXldKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHZlY3RvcjtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcG9zaXRpb246IFZlY3RvciA9IFZlY3Rvci56ZXJvKCksIHB1YmxpYyBsb29rOiBudW1iZXIgPSAwLCBwcml2YXRlIGdhbWUpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5c1tlLmtleUNvZGVdID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXNbZS5rZXlDb2RlXSA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheScpO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9vayA9IE1hdGguYXRhbjIoZS5wYWdlWCAtIHRoaXMucG9zaXRpb24ueCwgLShlLnBhZ2VZIC0gdGhpcy5wb3NpdGlvbi55KSk7XG4gICAgICAgICAgICBjb25zdCBjYW1lcmE6IENhbWVyYSA9IHRoaXMuZ2FtZS5jYW1lcmE7XG4gICAgICAgICAgICBjb25zdCB2MSA9IG5ldyBWZWN0b3IoZS5wYWdlWCArIGNhbWVyYS54VmlldywgZS5wYWdlWSArIGNhbWVyYS55Vmlldyk7XG4gICAgICAgICAgICB0aGlzLmxvb2sgPSBWZWN0b3IuYW5nbGUodjEsIHRoaXMucG9zaXRpb24pO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIG1vdmUodG86IFZlY3RvciwgZHQ6IG51bWJlciA9IDEpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMucG9zaXRpb24uYWRkKHRvLm11bHRpcGxlKHRoaXMuc3BlZWQpLm11bHRpcGxlKGR0KSk7XG4gICAgfVxuXG4gICAgdXBkYXRlKGR0OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5tb3ZlKHRoaXMuZGlyZWN0aW9uLCBkdCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSAnLi9SZWN0YW5nbGUnO1xuXG52YXIgQVhJUyA9IHtcbiAgICBOT05FOiBcIm5vbmVcIixcbiAgICBIT1JJWk9OVEFMOiBcImhvcml6b250YWxcIixcbiAgICBWRVJUSUNBTDogXCJ2ZXJ0aWNhbFwiLFxuICAgIEJPVEg6IFwiYm90aFwiXG59O1xuXG5leHBvcnQgY2xhc3MgQ2FtZXJhIHtcbiAgICAvLyBwb3NpdGlvbiBvZiBjYW1lcmEgKGxlZnQtdG9wIGNvb3JkaW5hdGUpXG4gICAgeFZpZXc6IG51bWJlcjtcbiAgICB5VmlldzogbnVtYmVyO1xuICAgIHhEZWFkWm9uZTogbnVtYmVyO1xuICAgIHlEZWFkWm9uZTogbnVtYmVyO1xuICAgIHdWaWV3OiBudW1iZXI7XG4gICAgaFZpZXc6IG51bWJlcjtcbiAgICBheGlzOiBzdHJpbmc7XG4gICAgZm9sbG93ZWQ6IGFueTtcbiAgICB2aWV3cG9ydFJlY3Q6IFJlY3RhbmdsZTtcbiAgICB3b3JsZFJlY3Q6IFJlY3RhbmdsZTtcblxuICAgIGNvbnN0cnVjdG9yKHhWaWV3LCB5VmlldywgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCwgd29ybGRXaWR0aCwgd29ybGRIZWlnaHQpIHtcbiAgICAgICAgdGhpcy54VmlldyA9IHhWaWV3IHx8IDA7XG4gICAgICAgIHRoaXMueVZpZXcgPSB5VmlldyB8fCAwO1xuXG4gICAgICAgIC8vIGRpc3RhbmNlIGZyb20gZm9sbG93ZWQgb2JqZWN0IHRvIGJvcmRlciBiZWZvcmUgY2FtZXJhIHN0YXJ0cyBtb3ZlXG4gICAgICAgIHRoaXMueERlYWRab25lID0gMDsgLy8gbWluIGRpc3RhbmNlIHRvIGhvcml6b250YWwgYm9yZGVyc1xuICAgICAgICB0aGlzLnlEZWFkWm9uZSA9IDA7IC8vIG1pbiBkaXN0YW5jZSB0byB2ZXJ0aWNhbCBib3JkZXJzXG5cbiAgICAgICAgLy8gdmlld3BvcnQgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLndWaWV3ID0gY2FudmFzV2lkdGg7XG4gICAgICAgIHRoaXMuaFZpZXcgPSBjYW52YXNIZWlnaHQ7XG5cbiAgICAgICAgLy8gYWxsb3cgY2FtZXJhIHRvIG1vdmUgaW4gdmVydGljYWwgYW5kIGhvcml6b250YWwgYXhpc1xuICAgICAgICB0aGlzLmF4aXMgPSBBWElTLkJPVEg7XG5cbiAgICAgICAgLy8gb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGZvbGxvd2VkXG4gICAgICAgIHRoaXMuZm9sbG93ZWQgPSBudWxsO1xuXG4gICAgICAgIC8vIHJlY3RhbmdsZSB0aGF0IHJlcHJlc2VudHMgdGhlIHZpZXdwb3J0XG4gICAgICAgIHRoaXMudmlld3BvcnRSZWN0ID0gbmV3IFJlY3RhbmdsZSh0aGlzLnhWaWV3LCB0aGlzLnlWaWV3LCB0aGlzLndWaWV3LCB0aGlzLmhWaWV3KTtcblxuICAgICAgICAvLyByZWN0YW5nbGUgdGhhdCByZXByZXNlbnRzIHRoZSB3b3JsZCdzIGJvdW5kYXJ5IChyb29tJ3MgYm91bmRhcnkpXG4gICAgICAgIHRoaXMud29ybGRSZWN0ID0gbmV3IFJlY3RhbmdsZSgwLCAwLCB3b3JsZFdpZHRoLCB3b3JsZEhlaWdodCk7XG4gICAgfVxuXG4gICAgZm9sbG93KGdhbWVPYmplY3QsIHhEZWFkWm9uZSwgeURlYWRab25lKSB7XG4gICAgICAgIHRoaXMuZm9sbG93ZWQgPSBnYW1lT2JqZWN0O1xuICAgICAgICB0aGlzLnhEZWFkWm9uZSA9IHhEZWFkWm9uZTtcbiAgICAgICAgdGhpcy55RGVhZFpvbmUgPSB5RGVhZFpvbmU7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBrZWVwIGZvbGxvd2luZyB0aGUgcGxheWVyIChvciBvdGhlciBkZXNpcmVkIG9iamVjdClcbiAgICAgICAgaWYgKHRoaXMuZm9sbG93ZWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYXhpcyA9PSBBWElTLkhPUklaT05UQUwgfHwgdGhpcy5heGlzID09IEFYSVMuQk9USCkge1xuICAgICAgICAgICAgICAgIC8vIG1vdmVzIGNhbWVyYSBvbiBob3Jpem9udGFsIGF4aXMgYmFzZWQgb24gZm9sbG93ZWQgb2JqZWN0IHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZm9sbG93ZWQucG9zaXRpb24ueCAtIHRoaXMueFZpZXcgKyB0aGlzLnhEZWFkWm9uZSA+IHRoaXMud1ZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54VmlldyA9IHRoaXMuZm9sbG93ZWQucG9zaXRpb24ueCAtICh0aGlzLndWaWV3IC0gdGhpcy54RGVhZFpvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmZvbGxvd2VkLnBvc2l0aW9uLnggLSB0aGlzLnhEZWFkWm9uZSA8IHRoaXMueFZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54VmlldyA9IHRoaXMuZm9sbG93ZWQucG9zaXRpb24ueCAtIHRoaXMueERlYWRab25lO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuYXhpcyA9PSBBWElTLlZFUlRJQ0FMIHx8IHRoaXMuYXhpcyA9PSBBWElTLkJPVEgpIHtcbiAgICAgICAgICAgICAgICAvLyBtb3ZlcyBjYW1lcmEgb24gdmVydGljYWwgYXhpcyBiYXNlZCBvbiBmb2xsb3dlZCBvYmplY3QgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mb2xsb3dlZC5wb3NpdGlvbi55IC0gdGhpcy55VmlldyArIHRoaXMueURlYWRab25lID4gdGhpcy5oVmlldykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlWaWV3ID0gdGhpcy5mb2xsb3dlZC5wb3NpdGlvbi55IC0gKHRoaXMuaFZpZXcgLSB0aGlzLnlEZWFkWm9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuZm9sbG93ZWQucG9zaXRpb24ueSAtIHRoaXMueURlYWRab25lIDwgdGhpcy55Vmlldykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnlWaWV3ID0gdGhpcy5mb2xsb3dlZC5wb3NpdGlvbi55IC0gdGhpcy55RGVhZFpvbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgdmlld3BvcnRSZWN0XG4gICAgICAgIHRoaXMudmlld3BvcnRSZWN0LnNldCh0aGlzLnhWaWV3LCB0aGlzLnlWaWV3KTtcblxuICAgICAgICAvLyBkb24ndCBsZXQgY2FtZXJhIGxlYXZlcyB0aGUgd29ybGQncyBib3VuZGFyeVxuICAgICAgICBpZiAoIXRoaXMudmlld3BvcnRSZWN0LndpdGhpbih0aGlzLndvcmxkUmVjdCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdwb3J0UmVjdC5sZWZ0IDwgdGhpcy53b3JsZFJlY3QubGVmdClcbiAgICAgICAgICAgICAgICB0aGlzLnhWaWV3ID0gdGhpcy53b3JsZFJlY3QubGVmdDtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdwb3J0UmVjdC50b3AgPCB0aGlzLndvcmxkUmVjdC50b3ApXG4gICAgICAgICAgICAgICAgdGhpcy55VmlldyA9IHRoaXMud29ybGRSZWN0LnRvcDtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdwb3J0UmVjdC5yaWdodCA+IHRoaXMud29ybGRSZWN0LnJpZ2h0KVxuICAgICAgICAgICAgICAgIHRoaXMueFZpZXcgPSB0aGlzLndvcmxkUmVjdC5yaWdodCAtIHRoaXMud1ZpZXc7XG4gICAgICAgICAgICBpZiAodGhpcy52aWV3cG9ydFJlY3QuYm90dG9tID4gdGhpcy53b3JsZFJlY3QuYm90dG9tKVxuICAgICAgICAgICAgICAgIHRoaXMueVZpZXcgPSB0aGlzLndvcmxkUmVjdC5ib3R0b20gLSB0aGlzLmhWaWV3O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XG4gICAgbGVmdDogbnVtYmVyO1xuICAgIHRvcDogbnVtYmVyO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgcmlnaHQ6IG51bWJlcjtcbiAgICBib3R0b206IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0IHx8IDA7XG4gICAgICAgIHRoaXMudG9wID0gdG9wIHx8IDA7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aCB8fCAwO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCB8fCAwO1xuICAgICAgICB0aGlzLnJpZ2h0ID0gdGhpcy5sZWZ0ICsgdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCArIHRoaXMuaGVpZ2h0O1xuICAgIH1cblxuICAgIHNldCAobGVmdCwgdG9wLCAvKm9wdGlvbmFsKi93aWR0aD8sIC8qb3B0aW9uYWwqL2hlaWdodD8pe1xuICAgICAgICB0aGlzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoIHx8IHRoaXMud2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0IHx8IHRoaXMuaGVpZ2h0XG4gICAgICAgIHRoaXMucmlnaHQgPSAodGhpcy5sZWZ0ICsgdGhpcy53aWR0aCk7XG4gICAgICAgIHRoaXMuYm90dG9tID0gKHRoaXMudG9wICsgdGhpcy5oZWlnaHQpO1xuICAgIH1cblxuICAgIHdpdGhpbiAocikge1xuICAgICAgICByZXR1cm4gKHIubGVmdCA8PSB0aGlzLmxlZnQgJiZcbiAgICAgICAgICAgIHIucmlnaHQgPj0gdGhpcy5yaWdodCAmJlxuICAgICAgICAgICAgci50b3AgPD0gdGhpcy50b3AgJiZcbiAgICAgICAgICAgIHIuYm90dG9tID49IHRoaXMuYm90dG9tKTtcbiAgICB9XG5cbiAgICBvdmVybGFwcyAocikge1xuICAgICAgICByZXR1cm4gKHRoaXMubGVmdCA8IHIucmlnaHQgJiZcbiAgICAgICAgICAgIHIubGVmdCA8IHRoaXMucmlnaHQgJiZcbiAgICAgICAgICAgIHRoaXMudG9wIDwgci5ib3R0b20gJiZcbiAgICAgICAgICAgIHIudG9wIDwgdGhpcy5ib3R0b20pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBNYXB7XG4gICAgLy8gbWFwIGRpbWVuc2lvbnNcbiAgICB3aWR0aDogbnVtYmVyO1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGltYWdlOiBhbnk7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIC8vIG1hcCB0ZXh0dXJlXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBudWxsO1xuICAgIH1cblxuICAgIGdlbmVyYXRlKCl7XG4gICAgICAgIHZhciBjdHggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgY3R4LmNhbnZhcy53aWR0aCA9IHRoaXMud2lkdGg7XG4gICAgICAgIGN0eC5jYW52YXMuaGVpZ2h0ID0gdGhpcy5oZWlnaHQ7XG5cbiAgICAgICAgdmFyIHJvd3MgPSB+fih0aGlzLndpZHRoLzQ0KSArIDE7XG4gICAgICAgIHZhciBjb2x1bW5zID0gfn4odGhpcy5oZWlnaHQvNDQpICsgMTtcblxuICAgICAgICB2YXIgY29sb3IgPSBcImJsYWNrXCI7XG4gICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XG4gICAgICAgIGZvciAodmFyIHggPSAwLCBpID0gMDsgaSA8IHJvd3M7IHgrPTQ0LCBpKyspIHtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGZvciAodmFyIHkgPSAwLCBqPTA7IGogPCBjb2x1bW5zOyB5Kz00NCwgaisrKSB7XG4gICAgICAgICAgICAgICAgY3R4LnJlY3QgKHgsIHksIDQyLCA0Mik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2xvciA9ICcjZmZmJztcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcblxuICAgICAgICAvLyBzdG9yZSB0aGUgZ2VuZXJhdGUgbWFwIGFzIHRoaXMgaW1hZ2UgdGV4dHVyZVxuICAgICAgICB0aGlzLmltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gY3R4LmNhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG5cbiAgICAgICAgLy8gY2xlYXIgY29udGV4dFxuICAgICAgICBjdHggPSBudWxsO1xuICAgIH1cblxuLy8gZHJhdyB0aGUgbWFwIGFkanVzdGVkIHRvIGNhbWVyYVxuICAgIGRyYXcoY29udGV4dCwgeFZpZXcsIHlWaWV3KXtcbiAgICAgICAgLy8gZWFzaWVzdCB3YXk6IGRyYXcgdGhlIGVudGlyZSBtYXAgY2hhbmdpbmcgb25seSB0aGUgZGVzdGluYXRpb24gY29vcmRpbmF0ZSBpbiBjYW52YXNcbiAgICAgICAgLy8gY2FudmFzIHdpbGwgY3VsbCB0aGUgaW1hZ2UgYnkgaXRzZWxmIChubyBwZXJmb3JtYW5jZSBnYXBzIC0+IGluIGhhcmR3YXJlIGFjY2VsZXJhdGVkIGVudmlyb25tZW50cywgYXQgbGVhc3QpXG4gICAgICAgIC8vY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCwgdGhpcy5pbWFnZS53aWR0aCwgdGhpcy5pbWFnZS5oZWlnaHQsIC14VmlldywgLXlWaWV3LCB0aGlzLmltYWdlLndpZHRoLCB0aGlzLmltYWdlLmhlaWdodCk7XG5cbiAgICAgICAgLy8gZGlkYWN0aWMgd2F5OlxuXG4gICAgICAgIHZhciBzeCwgc3ksIGR4LCBkeTtcbiAgICAgICAgdmFyIHNXaWR0aCwgc0hlaWdodCwgZFdpZHRoLCBkSGVpZ2h0O1xuXG4gICAgICAgIC8vIG9mZnNldCBwb2ludCB0byBjcm9wIHRoZSBpbWFnZVxuICAgICAgICBzeCA9IHhWaWV3O1xuICAgICAgICBzeSA9IHlWaWV3O1xuXG4gICAgICAgIC8vIGRpbWVuc2lvbnMgb2YgY3JvcHBlZCBpbWFnZVxuICAgICAgICBzV2lkdGggPSAgY29udGV4dC5jYW52YXMud2lkdGg7XG4gICAgICAgIHNIZWlnaHQgPSBjb250ZXh0LmNhbnZhcy5oZWlnaHQ7XG5cbiAgICAgICAgLy8gaWYgY3JvcHBlZCBpbWFnZSBpcyBzbWFsbGVyIHRoYW4gY2FudmFzIHdlIG5lZWQgdG8gY2hhbmdlIHRoZSBzb3VyY2UgZGltZW5zaW9uc1xuICAgICAgICBpZih0aGlzLmltYWdlLndpZHRoIC0gc3ggPCBzV2lkdGgpe1xuICAgICAgICAgICAgc1dpZHRoID0gdGhpcy5pbWFnZS53aWR0aCAtIHN4O1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuaW1hZ2UuaGVpZ2h0IC0gc3kgPCBzSGVpZ2h0KXtcbiAgICAgICAgICAgIHNIZWlnaHQgPSB0aGlzLmltYWdlLmhlaWdodCAtIHN5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gbG9jYXRpb24gb24gY2FudmFzIHRvIGRyYXcgdGhlIGNyb3BlZCBpbWFnZVxuICAgICAgICBkeCA9IDA7XG4gICAgICAgIGR5ID0gMDtcbiAgICAgICAgLy8gbWF0Y2ggZGVzdGluYXRpb24gd2l0aCBzb3VyY2UgdG8gbm90IHNjYWxlIHRoZSBpbWFnZVxuICAgICAgICBkV2lkdGggPSBzV2lkdGg7XG4gICAgICAgIGRIZWlnaHQgPSBzSGVpZ2h0O1xuXG4gICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHN4LCBzeSwgc1dpZHRoLCBzSGVpZ2h0LCBkeCwgZHksIGRXaWR0aCwgZEhlaWdodCk7XG4gICAgfVxuXG59XG5cbi8vIGdlbmVyYXRlIGFuIGV4YW1wbGUgb2YgYSBsYXJnZSBtYXBcbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGRyYXdDaXJjbGUsIGdldFJhbmRvbUJlZXR3ZW4gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IEdhbWUgfSBmcm9tICcuL0dhbWUnO1xuaW1wb3J0IHsgUGl6emEgfSBmcm9tICcuL1BpenphJztcblxuXG5leHBvcnQgY2xhc3MgUmlvdFBvbGljZVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIGZpbGwgPSAnYnJvd24nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGRhdGE6IFJpb3RQb2xpY2VEYXRhLCBwcml2YXRlIGNvbmZpZzogQ29uZmlnKSB7XG4gICAgfVxuXG4gICAgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB4VmlldzogbnVtYmVyLCB5VmlldzogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIGN0eC50cmFuc2xhdGUoLXhWaWV3ICsgdGhpcy5kYXRhLnBvc2l0aW9uLngsIC15VmlldyArIHRoaXMuZGF0YS5wb3NpdGlvbi55KTtcbiAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLmRhdGEubG9vayk7XG4gICAgICAgIGNvbnN0IGtvc21vbmF2dEltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBrb3Ntb25hdnRJbWcuc3JjID0gJ3B1YmxpYy9rb3Ntb25hdnQuc3ZnJztcbiAgICAgICAgY3R4LmRyYXdJbWFnZShrb3Ntb25hdnRJbWcsIC00MSwgLTUyLCA2MiwgODUpO1xuICAgICAgICAvLyBjdHguZmlsbFN0eWxlID0gdGhpcy5maWxsO1xuICAgICAgICAvLyBkcmF3Q2lyY2xlKGN0eCwgMCwgMCwgdGhpcy5kYXRhLnNpemUpO1xuICAgICAgICAvLyBkcmF3Q2lyY2xlKFxuICAgICAgICAvLyAgICAgY3R4LFxuICAgICAgICAvLyAgICAgLSB0aGlzLmRhdGEuc2l6ZSAqIDAuOCxcbiAgICAgICAgLy8gICAgIC0gdGhpcy5kYXRhLnNpemUgKiAwLjgsXG4gICAgICAgIC8vICAgICB0aGlzLmRhdGEuc2l6ZSAqIDAuM1xuICAgICAgICAvLyApO1xuICAgICAgICAvLyBkcmF3Q2lyY2xlKFxuICAgICAgICAvLyAgICAgY3R4LFxuICAgICAgICAvLyAgICAgKyB0aGlzLmRhdGEuc2l6ZSAqIDAuOCxcbiAgICAgICAgLy8gICAgIC0gdGhpcy5kYXRhLnNpemUgKiAwLjgsXG4gICAgICAgIC8vICAgICB0aGlzLmRhdGEuc2l6ZSAqIDAuM1xuICAgICAgICAvLyApO1xuICAgICAgICBjdHguc2V0VHJhbnNmb3JtKDEsIDAsIDAsIDEsIDAsIDApO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJpb3RQb2xpY2UgZXh0ZW5kcyBSaW90UG9saWNlUmVuZGVyZXIge1xuICAgIGNvbnN0cnVjdG9yKGRhdGE6IFJpb3RQb2xpY2VEYXRhLCBwcml2YXRlIGdhbWU6IGFueSkge1xuICAgICAgICBzdXBlcihkYXRhLCBnYW1lLmNvbmZpZyk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZShkdDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuZGF0YS51cGRhdGUoZHQpO1xuICAgIH1cbn1cblxudHlwZSBUdXBsZSA9IFtudW1iZXIsIG51bWJlcl07XG5cbmV4cG9ydCBjbGFzcyBSaW90UG9saWNlRGF0YSB7XG4gICAgc2l6ZTogbnVtYmVyID0gMjU7IC8vIHNpemUgb2YgYm9keVxuICAgIHNwZWVkOiBudW1iZXIgPSBnZXRSYW5kb21CZWV0d2VuKDAuNywgMSk7XG4gICAgdGFyZ2V0OiBQaXp6YSA9IG51bGw7XG4gICAgaW5pdGlhbFBvc2l0aW9uOiBWZWN0b3IgPSBudWxsO1xuICAgIGluaXRpYWxMb29rOiBudW1iZXIgPSBudWxsO1xuICAgIHN0YXRpYyBkaXJlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBUdXBsZT4gPSB7XG4gICAgICAgIDg3OiBbMCwgLTFdLFxuICAgICAgICA2NTogWy0xLCAwXSxcbiAgICAgICAgODM6IFswLCAxXSxcbiAgICAgICAgNjg6IFsxLCAwXSxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBwcmVzc2VkS2V5czogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcblxuICAgIGdldCBkaXJlY3Rpb24oKTogVmVjdG9yIHtcbiAgICAgICAgbGV0IHZlY3RvciA9IFZlY3Rvci56ZXJvKCk7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy50YXJnZXQgJiYgdGhpcy50YXJnZXQuZGF0YS5wb3NpdGlvbiB8fCB0aGlzLmluaXRpYWxQb3NpdGlvbjtcbiAgICAgICAvLyBpZiAoICEoIE1hdGguYWJzKHBvc2l0aW9uLnggLSB0aGlzLnBvc2l0aW9uLngpIDw9IDEwIHx8IE1hdGguYWJzKHBvc2l0aW9uLnkgLSB0aGlzLnBvc2l0aW9uLnkpIDw9IDEwKSkge1xuICAgICAgIGlmICggISggTWF0aC5hYnMocG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCkgPD0gMTAgfHwgTWF0aC5hYnMocG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueSkgPD0gMTApKSB7XG4gICAgICAgICAgIHZlY3RvciA9IG5ldyBWZWN0b3IocG9zaXRpb24ueCAtIHRoaXMucG9zaXRpb24ueCwgcG9zaXRpb24ueSAtIHRoaXMucG9zaXRpb24ueSk7XG4gICAgICAgICAgIHRoaXMubG9vayA9IFZlY3Rvci5hbmdsZShwb3NpdGlvbiwgdGhpcy5wb3NpdGlvbik7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgdGhpcy50YXJnZXQgJiYgdGhpcy5nYW1lLmVhdFBpenphKHRoaXMudGFyZ2V0KTtcbiAgICAgICAgICAgdGhpcy50YXJnZXQgPSBudWxsO1xuICAgICAgICAgICB0aGlzLmxvb2sgPSB0aGlzLmluaXRpYWxMb29rO1xuICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVjdG9yO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBwb3NpdGlvbjogVmVjdG9yID0gVmVjdG9yLnplcm8oKSwgcHVibGljIGxvb2s6IG51bWJlciA9IDAsIHByaXZhdGUgZ2FtZTogR2FtZSkge1xuICAgICAgICB0aGlzLmluaXRpYWxQb3NpdGlvbiA9IFZlY3Rvci5jbG9uZSh0aGlzLnBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5pbml0aWFsTG9vayA9IGxvb2s7XG4gICAgfVxuXG4gICAgbW92ZSh0bzogVmVjdG9yLCBkdDogbnVtYmVyID0gMSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5hZGQodG8ubXVsdGlwbGUodGhpcy5zcGVlZCkubXVsdGlwbGUoZHQpKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLm1vdmUodGhpcy5kaXJlY3Rpb24sIGR0KTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZHJhd0NpcmNsZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBmaWxsOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xuICAgIGlmIChmaWxsKSB7XG4gICAgICAgIGN0eC5maWxsKClcbiAgICB9IGVsc2Uge1xuICAgICAgICBjdHguc3Ryb2tlKClcbiAgICB9XG59XG5cblxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUcmlhbmdsZShjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBmaWxsOiBib29sZWFuID0gdHJ1ZSkge1xuICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICBjdHgubW92ZVRvKHgsIHkpO1xuICAgIGN0eC5hcmMoeCwgeSwgcmFkaXVzLCAwLCBNYXRoLlBJIC8gMyk7XG4gICAgaWYgKGZpbGwpIHtcbiAgICAgICAgY3R4LmZpbGwoKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGN0eC5zdHJva2UoKVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUJlZXR3ZW4oZnJvbTogbnVtYmVyLCB0bzogbnVtYmVyKSB7XG4gICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpICogdG8pICsgZnJvbTtcbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gJy4vVmVjdG9yJztcbmltcG9ydCB7IENvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcbmltcG9ydCB7IGRyYXdDaXJjbGUsIGRyYXdUcmlhbmdsZSB9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHV1aWQgZnJvbSAndXVpZCc7XG5cbmV4cG9ydCBjbGFzcyBQaXp6YVJlbmRlcmVyIHtcbiAgICBwcml2YXRlIGZpbGwgPSAnYnJvd24nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGRhdGE6IFBpenphRGF0YSwgcHJpdmF0ZSBjb25maWc6IENvbmZpZykge1xuICAgIH1cblxuICAgIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgeFZpZXc6IG51bWJlciwgeVZpZXc6IG51bWJlcik6IHZvaWQge1xuICAgICAgICBjdHgudHJhbnNsYXRlKC14VmlldyArIHRoaXMuZGF0YS5wb3NpdGlvbi54LCAteVZpZXcgKyB0aGlzLmRhdGEucG9zaXRpb24ueSk7XG5cbiAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLmRhdGEubG9vayk7XG4gICAgICAgIGNvbnN0IHBpenphSW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIHBpenphSW1nLnNyYyA9ICdwdWJsaWMvcGl6emEuc3ZnJztcbiAgICAgICAgY3R4LmRyYXdJbWFnZShwaXp6YUltZywgLTMwLCAtMzAsIDYwLCA2MCk7XG4gICAgICAgIGN0eC5zZXRUcmFuc2Zvcm0oMSwgMCwgMCwgMSwgMCwgMCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGl6emEgZXh0ZW5kcyBQaXp6YVJlbmRlcmVyIHtcbiAgICBpZCA9IHV1aWQoKTtcbiAgICBpc1dhaXRpbmdUb0VhdGluZyA9IGZhbHNlO1xuICAgIGNvbnN0cnVjdG9yKGRhdGE6IFBpenphRGF0YSwgcHJpdmF0ZSBnYW1lOiBhbnkpIHtcbiAgICAgICAgc3VwZXIoZGF0YSwgZ2FtZS5jb25maWcpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmRhdGEudXBkYXRlKGR0KTtcbiAgICB9XG59XG5cbnR5cGUgVHVwbGUgPSBbbnVtYmVyLCBudW1iZXJdO1xuXG5leHBvcnQgY2xhc3MgUGl6emFEYXRhIHtcbiAgICBzaXplOiBudW1iZXIgPSAyNTsgLy8gc2l6ZSBvZiBib2R5XG4gICAgc3BlZWQ6IG51bWJlciA9IDIwMDtcblxuICAgIHN0YXRpYyBkaXJlY3Rpb25zOiBSZWNvcmQ8c3RyaW5nLCBUdXBsZT4gPSB7XG4gICAgICAgIDg3OiBbMCwgLTFdLFxuICAgICAgICA2NTogWy0xLCAwXSxcbiAgICAgICAgODM6IFswLCAxXSxcbiAgICAgICAgNjg6IFsxLCAwXSxcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBwcmVzc2VkS2V5czogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gPSB7fTtcblxuICAgIGdldCBkaXJlY3Rpb24oKTogVmVjdG9yIHtcbiAgICAgICAgbGV0IHZlY3RvciA9IFZlY3Rvci56ZXJvKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoUGl6emFEYXRhLmRpcmVjdGlvbnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzUHJlc3NlZCA9IHRoaXMucHJlc3NlZEtleXNba2V5XSB8fCBmYWxzZTtcbiAgICAgICAgICAgIGlmIChpc1ByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICB2ZWN0b3IgPSB2ZWN0b3IuYWRkKG5ldyBWZWN0b3IoLi4uUGl6emFEYXRhLmRpcmVjdGlvbnNba2V5XSkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2ZWN0b3I7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHVibGljIHBvc2l0aW9uOiBWZWN0b3IgPSBWZWN0b3IuemVybygpLCBwdWJsaWMgbG9vazogbnVtYmVyID0gMCkge1xuXG4gICAgfVxuXG4gICAgbW92ZSh0bzogVmVjdG9yLCBkdDogbnVtYmVyID0gMSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5wb3NpdGlvbi5hZGQodG8ubXVsdGlwbGUodGhpcy5zcGVlZCkubXVsdGlwbGUoZHQpKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoZHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLm1vdmUodGhpcy5kaXJlY3Rpb24sIGR0KTtcbiAgICB9XG59XG4iLCJ2YXIgdjEgPSByZXF1aXJlKCcuL3YxJyk7XG52YXIgdjQgPSByZXF1aXJlKCcuL3Y0Jyk7XG5cbnZhciB1dWlkID0gdjQ7XG51dWlkLnYxID0gdjE7XG51dWlkLnY0ID0gdjQ7XG5cbm1vZHVsZS5leHBvcnRzID0gdXVpZDtcbiIsInZhciBybmcgPSByZXF1aXJlKCcuL2xpYi9ybmcnKTtcbnZhciBieXRlc1RvVXVpZCA9IHJlcXVpcmUoJy4vbGliL2J5dGVzVG9VdWlkJyk7XG5cbi8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG52YXIgX2Nsb2Nrc2VxO1xuXG4vLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDtcblxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9icm9vZmEvbm9kZS11dWlkIGZvciBBUEkgZGV0YWlsc1xuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IFtdO1xuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxO1xuXG4gIC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gcm5nKCk7XG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtcbiAgICAgICAgc2VlZEJ5dGVzWzBdIHwgMHgwMSxcbiAgICAgICAgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1cbiAgICAgIF07XG4gICAgfVxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7XG5cbiAgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuICB2YXIgZHQgPSAobXNlY3MgLSBfbGFzdE1TZWNzKSArIChuc2VjcyAtIF9sYXN0TlNlY3MpLzEwMDAwO1xuXG4gIC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfVxuXG4gIC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH1cblxuICAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXVpZC52MSgpOiBDYW5cXCd0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlYycpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxO1xuXG4gIC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDtcblxuICAvLyBgdGltZV9sb3dgXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfbWlkYFxuICB2YXIgdG1oID0gKG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCkgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7XG5cbiAgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjtcblxuICAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwO1xuXG4gIC8vIGBjbG9ja19zZXFfbG93YFxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7XG5cbiAgLy8gYG5vZGVgXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6IGJ5dGVzVG9VdWlkKGIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHYxO1xuIiwidmFyIHJuZyA9IHJlcXVpcmUoJy4vbGliL3JuZycpO1xudmFyIGJ5dGVzVG9VdWlkID0gcmVxdWlyZSgnLi9saWIvYnl0ZXNUb1V1aWQnKTtcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJykge1xuICAgIGJ1ZiA9IG9wdGlvbnMgPT09ICdiaW5hcnknID8gbmV3IEFycmF5KDE2KSA6IG51bGw7XG4gICAgb3B0aW9ucyA9IG51bGw7XG4gIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgdmFyIHJuZHMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gIC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcbiAgcm5kc1s2XSA9IChybmRzWzZdICYgMHgwZikgfCAweDQwO1xuICBybmRzWzhdID0gKHJuZHNbOF0gJiAweDNmKSB8IDB4ODA7XG5cbiAgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG4gIGlmIChidWYpIHtcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgMTY7ICsraWkpIHtcbiAgICAgIGJ1ZltpICsgaWldID0gcm5kc1tpaV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBieXRlc1RvVXVpZChybmRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB2NDtcbiIsImV4cG9ydCBjbGFzcyBDb25maWcge1xuICAgIGdhbWUgPSB7XG4gICAgICAgIHdpZHRoOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgfTtcbiAgICB3b3JsZCA9IHtcbiAgICAgICAgd2lkdGg6IDQ0NDQsXG4gICAgICAgIGhlaWdodDogMjIxOCxcbiAgICB9O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==
